webpackJsonp([6],{221:function(e,t,a){a(531);var r=a(94)(a(417),a(557),null,null);e.exports=r.exports},234:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(57),l=a.n(r),o=a(56),n=a.n(o),s=a(58),i=a.n(s),c=a(95),p=a(96),m=a(97);t.default={data:function(){return{baseImgPath:p.b}},created:function(){},computed:i()({},a.i(m.b)(["adminInfo"])),methods:i()({},a.i(m.c)(["getAdminData"]),{handleCommand:function(e){var t=this;return n()(l.a.mark(function r(){var o;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("home"!=e){r.next=4;break}t.$router.push("/manage"),r.next=9;break;case 4:if("signout"!=e){r.next=9;break}return r.next=7,a.i(c.g)();case 7:o=r.sent,1==o.status?(t.$message({type:"success",message:"退出成功"}),t.$router.push("/")):t.$message({type:"error",message:o.message});case 9:case"end":return r.stop()}},r,t)}))()}})}},235:function(e,t,a){t=e.exports=a(206)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},236:function(e,t,a){var r=a(235);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(207)("019239ba",r,!0)},237:function(e,t,a){a(236);var r=a(94)(a(234),a(238),null,null);e.exports=r.exports},238:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[e._v("首页")]),e._v(" "),e._l(e.$route.meta,function(t,r){return a("el-breadcrumb-item",{key:r},[e._v(e._s(t))])})],2)],1)},staticRenderFns:[]}},417:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(59),l=a.n(r),o=a(58),n=a.n(o),s=a(57),i=a.n(s),c=a(56),p=a.n(c),m=a(237),u=a.n(m),d=a(96),g=a(95);t.default={data:function(){return{tableData:[{projectId:1,category:"国家自然科学基金项目",title:"面向多核混合关键实时系统的高性能资源共享技术研究",projectNum:"62302533",level:"国家级",role:"主持人",state:"在研",expenditure:30,signature:"中山大学",pubDate:"2023-08-24",startDate:"2024-01-01",endDate:"2026-12-31",targetPaperLeft:4,targetPaperRight:6,targetPatentLeft:2,targetPatentRight:3,targetSWCopyRightLeft:0,targetSWCopyRightRight:0,targetPGLeft:3,targetPGRight:5,targetDrLeft:null,targetDrRight:null,systemAlreadyPaper:1,systemAlreadyPatent:2,systemAlreadySWCopyRight:null,manualAlreadyPaper:2,manualAlreadyPatent:null,manualAlreadySWCopyRight:null,manualAlreadyPG:5,manualAlreadyDr:null,project_attachments_details:[]}],searchForm:{category:"",title:"",projectNum:"",state:"",level:"",role:"",signature:"",pubDateRange:[],startDateRange:[],endDateRange:[]},dynamicDiaTitle:"新增项目信息",dynamicState:0,projectForm:{projectId:null,category:"",title:"",projectNum:"",level:"",role:"",state:"",expenditure:null,signature:"",pubDate:"",startDate:"",endDate:"",targetPaperLeft:null,targetPaperRight:null,targetPatentLeft:null,targetPatentRight:null,targetSWCopyRightLeft:null,targetSWCopyRightRight:null,targetPGLeft:null,targetPGRight:null,targetDrLeft:null,targetDrRight:null,manualAlreadyPaper:null,manualAlreadyPatent:null,manualAlreadySWCopyRight:null,manualAlreadyPG:null,manualAlreadyDr:null,project_attachments_details:[]},rules:{category:[{required:!0,message:"请输入项目类别",trigger:"blur"},{required:!0,message:"请输入项目类别",trigger:"change"}],title:[{required:!0,message:"请输入项目名称",trigger:"blur"},{required:!0,message:"请输入项目名称",trigger:"change"}],projectNum:[{required:!0,message:"请输入项目（批准）号",trigger:"blur"},{required:!0,message:"请输入项目（批准）号",trigger:"change"}],state:[{required:!0,message:"请输入项目状态",trigger:"blur"},{required:!0,message:"请输入项目状态",trigger:"change"}],level:[{required:!0,message:"请输入项目级别",trigger:"blur"},{required:!0,message:"请输入项目级别",trigger:"change"}],role:[{required:!0,message:"请输入参与角色",trigger:"blur"},{required:!0,message:"请输入参与角色",trigger:"change"}],signature:[{required:!0,message:"请输入署名单位",trigger:"blur"},{required:!0,message:"请输入署名单位",trigger:"change"}]},searchFormAuthorOptions:[],searchFormCAAuthorOptions:[],searchFormfundingOptions:[],searchFormSelectedAuthorLabels:{},searchFormSelectedCAAuthorLabels:{},searchFormSelectedFundingLabels:{},authorOptions:[],fundingOptions:[],selectedAuthorLabels:{},selectedFundingLabels:{},projectFileList:[],authorData:{},dialogVisible:[],dialogFundingVisible:[],baseUrl:d.a,baseImgPath:d.b,city:{},offset:0,limit:10,count:0,currentPage:1,selectTable:{},dialogFormVisible:!1,categoryOptions:[],selectedCategory:[],address:{},loading:!1,isEditing:!1}},created:function(){this.initData()},computed:{},components:{headTop:u.a},methods:{calculateProgress:function(e){var t=[{completed:e.manualAlreadyPaper||e.systemAlreadyPaper||0,target:e.targetPaperLeft||0},{completed:e.manualAlreadyPatent||e.systemAlreadyPatent||0,target:e.targetPatentLeft||0},{completed:e.manualAlreadySWCopyRight||e.systemAlreadySWCopyRight||0,target:e.targetSWCopyRightLeft||0},{completed:e.manualAlreadyPG||0,target:e.targetPGLeft||0},{completed:e.manualAlreadyDr||0,target:e.targetDrLeft||0}],a=t.filter(function(e){return e.target>0}),r=a.length>0?1/a.length:0,l=a.reduce(function(e,t){return e+Math.min(t.completed/t.target,1)*r},0);return Math.round(100*l)},initData:function(){var e=this;return p()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:try{e.getProjects()}catch(e){console.log("获取数据失败",e)}case 1:case"end":return t.stop()}},t,e)}))()},getProjects:function(){var e=this;return p()(i.a.mark(function t(){var r,l;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=n()({},e.searchForm,{page:e.currentPage-1,size:e.limit}),t.next=3,a.i(g.b)(r);case 3:l=t.sent,e.count=l.projectCount,e.tableData=[],e.count>0&&l.projectDetailList.forEach(function(t){var a={};a.id=t.projectId,a.title=t.title,a.projectNum=t.projectNum,a.level=t.level,a.category=t.category,a.role=t.role,a.state=t.state,a.expenditure=t.expenditure,a.signature=t.signature,a.pubDate=t.pubDate,a.startDate=t.startDate,a.endDate=t.endDate,a.targetPaperLeft=t.targetPaperLeft,a.targetPaperRight=t.targetPaperRight,a.targetPatentLeft=t.targetPatentLeft,a.targetPatentRight=t.targetPatentRight,a.targetPGLeft=t.targetPGLeft,a.targetPGRight=t.targetPGRight,a.targetDrLeft=t.targetDrLeft,a.targetDrRight=t.targetDrRight,a.SWCopyRightLeft=t.SWCopyRightLeft,a.SWCopyRightRight=t.SWCopyRightRight,a.systemAlreadyPaper=t.systemAlreadyPaper,a.systemAlreadyPatent=t.systemAlreadyPatent,a.systemAlreadySWCopyRight=t.systemAlreadySWCopyRight,a.manualAlreadyPaper=t.manualAlreadyPaper,a.manualAlreadyPatent=t.manualAlreadyPatent,a.manualAlreadySWCopyRight=t.manualAlreadySWCopyRight,a.manualAlreadyPG=t.manualAlreadyPG,a.manualAlreadyDr=t.manualAlreadyDr,a.project_attachments_details=t.project_attachments_details,e.tableData.push(a)});case 7:case"end":return t.stop()}},t,e)}))()},handleSearch:function(){var e=this;return p()(i.a.mark(function t(){return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getProjects();case 1:case"end":return t.stop()}},t,e)}))()},handleReset:function(){this.searchForm={category:"",title:"",projectNum:"",state:"",level:"",role:"",signature:"",pubDateRange:[],startDateRange:[],endDateRange:[]},this.handleSearch()},handleSizeChange:function(e){this.currentPage=1,this.limit=e,this.offset=(this.currentPage-1)*e,this.getProjects()},handleCurrentChange:function(e){this.currentPage=e,this.offset=(e-1)*this.limit,this.getProjects()},handleAwardsUploadSuccess:function(e,t,a){var r=e.url,l=e.fileName;r&&this.projectFileList.push({name:l,url:r})},handleAwardsRemove:function(e,t){var r=this;return p()(i.a.mark(function t(){var l,o;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(g.c)({fileUrl:e.url});case 2:l=t.sent,1==l.status&&-1!==(o=r.projectFileList.findIndex(function(t){return t.url===e.url}))&&r.projectFileList.splice(o,1);case 4:case"end":return t.stop()}},t,r)}))()},handleExceed:function(e,t){this.$message.warning("最多上传20个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},handleEdit:function(e,t){var a=this;return p()(i.a.mark(function e(){return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a.isEditing=!0;try{a.dynamicState=1,a.dynamicDiaTitle="编辑项目信息",a.resetprojectForm(),a.projectForm.projectId=t.id,a.projectForm.category=t.category,a.projectForm.title=t.title,a.projectForm.projectNum=t.projectNum,a.projectForm.level=t.level,a.projectForm.role=t.role,a.projectForm.state=t.state,a.projectForm.expenditure=t.expenditure,a.projectForm.signature=t.signature,a.projectForm.pubDate=t.pubDate,a.projectForm.startDate=t.startDate,a.projectForm.endDate=t.endDate,a.projectForm.targetPaperLeft=t.targetPaperLeft,a.projectForm.targetPaperRight=t.targetPaperRight,a.projectForm.targetPatentLeft=t.targetPatentLeft,a.projectForm.targetPatentRight=t.targetPatentRight,a.projectForm.targetSWCopyRightLeft=t.targetSWCopyRightLeft,a.projectForm.targetSWCopyRightRight=t.targetSWCopyRightRight,a.projectForm.targetPGLeft=t.targetPGLeft,a.projectForm.targetPGRight=t.targetPGRight,a.projectForm.targetDrLeft=t.targetDrLeft,a.projectForm.targetDrRight=t.targetDrRight,a.projectForm.manualAlreadyPaper=t.manualAlreadyPaper,a.projectForm.manualAlreadyPatent=t.manualAlreadyPatent,a.projectForm.manualAlreadySWCopyRight=t.manualAlreadySWCopyRight,a.projectForm.manualAlreadyPG=t.manualAlreadyPG,a.projectForm.manualAlreadyDr=t.manualAlreadyDr,t.project_attachments_details.length>0&&t.project_attachments_details.forEach(function(e){var t={};t.name=e.attachmentName,t.url=e.attachmentUrl,a.projectFileList.push(t)})}finally{a.isEditing=!1,a.dialogFormVisible=!0}case 2:case"end":return e.stop()}},e,a)}))()},handleCreate:function(){if(0===this.dynamicState)return void(this.dialogFormVisible=!0);this.dynamicState=0,this.dynamicDiaTitle="新增项目信息",this.resetprojectForm(),this.dialogFormVisible=!0},handleDelete:function(e,t){var r=this;return p()(i.a.mark(function e(){var l;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.i(g.d)({projectId:t.id});case 3:if(l=e.sent,1!=l.status){e.next=9;break}r.$message({type:"success",message:"删除项目成功"}),r.getProjects(),e.next=10;break;case 9:throw new Error(l.message);case 10:e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),r.$message({type:"error",message:e.t0.message}),console.log("删除项目失败");case 16:case"end":return e.stop()}},e,r,[[0,12]])}))()},resetprojectForm:function(){this.projectForm={projectId:null,category:"",title:"",projectNum:"",level:"",role:"",state:"",expenditure:null,signature:"",pubDate:"",startDate:"",endDate:"",targetPaperLeft:null,targetPaperRight:null,targetPatentLeft:null,targetPatentRight:null,targetSWCopyRightLeft:null,targetSWCopyRightRight:null,targetPGLeft:null,targetPGRight:null,targetDrLeft:null,targetDrRight:null,manualAlreadyPaper:null,manualAlreadyPatent:null,manualAlreadySWCopyRight:null,manualAlreadyPG:null,manualAlreadyDr:null,project_attachments_details:[]},this.projectFileList=[]},createProject:function(){var e=this;return p()(i.a.mark(function t(){var r,o,s,c,p;return i.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new l.a(function(t){e.$refs.projectForm.validate(function(e){t(e)})});case 3:if(!(r=t.sent)){t.next=20;break}if(0!=e.dynamicState){t.next=13;break}return o=n()({},e.projectForm,{projectFileList:e.projectFileList.map(function(e){return{attachmentUrl:e.url,attachmentName:e.name}})}),t.next=9,a.i(g.e)(o);case 9:s=t.sent,1==s.status?(e.$message({type:"success",message:"创建项目成功！"}),e.dialogFormVisible=!1,e.resetprojectForm(),e.getProjects()):(e.$message({type:"error",message:s.message}),e.dialogFormVisible=!1),t.next=18;break;case 13:return c=n()({},e.projectForm,{projectFileList:e.projectFileList.map(function(e){return{attachmentUrl:e.url,attachmentName:e.name}})}),t.next=16,a.i(g.f)(c);case 16:p=t.sent,1==p.status?(e.$message({type:"success",message:"更新项目成功！"}),e.dialogFormVisible=!1,e.resetprojectForm(),e.getProjects()):(e.$message({type:"error",message:p.message}),e.dialogFormVisible=!1);case 18:t.next=21;break;case 20:e.$message({type:"error",message:"表单验证未通过，请检查输入内容！"});case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(0),console.log("创建项目失败！",t.t0);case 26:case"end":return t.stop()}},t,e,[[0,23]])}))()}}}},436:function(e,t,a){t=e.exports=a(206)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.el-table .el-table__row{height:80px}.demo-table-expand{font-size:0}.demo-table-expand label{width:180px;color:#99a9bf}.demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:50%}.table_container{padding:20px}.Pagination{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;margin-top:8px}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:120px;line-height:120px;text-align:center}.avatar{width:120px;height:120px;display:block}.like{cursor:pointer;font-size:25px;display:inline-block}",""])},531:function(e,t,a){var r=a(436);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(207)("76183822",r,!0)},557:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("head-top"),e._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:e.searchForm,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"项目类别"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",placeholder:"请输入项目类别需要包含的内容"},model:{value:e.searchForm.category,callback:function(t){e.$set(e.searchForm,"category",t)},expression:"searchForm.category"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目名称"}},[a("el-input",{staticStyle:{width:"350px"},attrs:{clearable:"",placeholder:"请输入项目名称需要包含的内容"},model:{value:e.searchForm.title,callback:function(t){e.$set(e.searchForm,"title",t)},expression:"searchForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目（批准）号"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入"},model:{value:e.searchForm.projectNum,callback:function(t){e.$set(e.searchForm,"projectNum",t)},expression:"searchForm.projectNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目状态"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择项目状态"},model:{value:e.searchForm.state,callback:function(t){e.$set(e.searchForm,"state",t)},expression:"searchForm.state"}},[a("el-option",{attrs:{label:"在研",value:"在研"}}),e._v(" "),a("el-option",{attrs:{label:"结题",value:"结题"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"项目级别"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入"},model:{value:e.searchForm.level,callback:function(t){e.$set(e.searchForm,"level",t)},expression:"searchForm.level"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"参与角色"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入"},model:{value:e.searchForm.role,callback:function(t){e.$set(e.searchForm,"role",t)},expression:"searchForm.role"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"署名单位"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{clearable:"",placeholder:"请输入"},model:{value:e.searchForm.signature,callback:function(t){e.$set(e.searchForm,"signature",t)},expression:"searchForm.signature"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"立项日期范围"}},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},model:{value:e.searchForm.pubDateRange,callback:function(t){e.$set(e.searchForm,"pubDateRange",t)},expression:"searchForm.pubDateRange"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目开始日期范围"}},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},model:{value:e.searchForm.startDateRange,callback:function(t){e.$set(e.searchForm,"startDateRange",t)},expression:"searchForm.startDateRange"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目结束日期范围"}},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},model:{value:e.searchForm.endDateRange,callback:function(t){e.$set(e.searchForm,"endDateRange",t)},expression:"searchForm.endDateRange"}})],1),e._v(" "),a("el-form-item")],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"left","margin-left":"70px","margin-bottom":"15px"}},[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",plain:""},on:{click:e.handleSearch}},[a("i",{staticClass:"el-icon-search"}),e._v(" 搜索\n    ")]),e._v(" "),a("el-button",{staticStyle:{width:"100px"},attrs:{type:"info",plain:""},on:{click:e.handleReset}},[a("i",{staticClass:"el-icon-refresh-left"}),e._v(" 重置\n    ")]),e._v(" "),a("el-button",{staticStyle:{width:"300px"},attrs:{type:"success",plain:""},on:{click:e.handleCreate}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 新增项目\n    ")])],1),e._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"项目类别"}},[a("span",[e._v(e._s(t.row.category))])]),e._v(" "),a("el-form-item",{attrs:{label:"项目名称"}},[a("span",[e._v(e._s(t.row.title))])]),e._v(" "),a("el-form-item",{attrs:{label:"项目(批准)号"}},[a("span",[e._v(e._s(t.row.projectNum))])]),e._v(" "),a("el-form-item",{attrs:{label:"项目状态"}},[a("span",[e._v(e._s(t.row.state))])]),e._v(" "),a("el-form-item",{attrs:{label:"项目级别"}},[a("span",[e._v(e._s(t.row.level))])]),e._v(" "),a("el-form-item",{attrs:{label:"参与角色"}},[a("span",[e._v(e._s(t.row.role))])]),e._v(" "),a("el-form-item",{attrs:{label:"项目经费（万元）"}},[a("span",[e._v(e._s(t.row.expenditure))])]),e._v(" "),a("el-form-item",{attrs:{label:"署名单位"}},[a("span",[e._v(e._s(t.row.signature))])]),e._v(" "),a("el-form-item",{attrs:{label:"立项日期"}},[a("span",[e._v(e._s(t.row.pubDate))])]),e._v(" "),a("el-form-item",{attrs:{label:"项目开始日期"}},[a("span",[e._v(e._s(t.row.startDate))])]),e._v(" "),a("el-form-item",{attrs:{label:"项目结束日期"}},[a("span",[e._v(e._s(t.row.endDate))])]),e._v(" "),a("el-form-item",{attrs:{label:"目标：发表学术论文"}},[t.row.targetPaperLeft||t.row.targetPaperRight?t.row.targetPaperLeft===t.row.targetPaperRight?[a("span",[e._v(e._s(t.row.targetPaperLeft)+" 篇")])]:[a("span",[e._v(e._s(t.row.targetPaperLeft)+" - "+e._s(t.row.targetPaperRight)+" 篇")])]:[e._v("\n                            无\n                        ")]],2),e._v(" "),a("el-form-item",{attrs:{label:"目标：发表专利"}},[t.row.targetPatentLeft||t.row.targetPatentRight?t.row.targetPatentLeft===t.row.targetPatentRight?[a("span",[e._v(e._s(t.row.targetPatentLeft)+" 项")])]:[a("span",[e._v(e._s(t.row.targetPatentLeft)+" - "+e._s(t.row.targetPatentRight)+" 项")])]:[e._v("\n                            无\n                        ")]],2),e._v(" "),a("el-form-item",{attrs:{label:"目标：发表软著"}},[t.row.targetSWCopyRightLeft||t.row.targetSWCopyRightRight?t.row.targetSWCopyRightLeft===t.row.targetSWCopyRightRight?[a("span",[e._v(e._s(t.row.targetSWCopyRightLeft)+" 项")])]:[a("span",[e._v(e._s(t.row.targetSWCopyRightLeft)+" - "+e._s(t.row.targetSWCopyRightRight)+" 项")])]:[e._v("\n                            无\n                        ")]],2),e._v(" "),a("el-form-item",{attrs:{label:"目标：培养硕士研究生"}},[t.row.targetPGLeft||t.row.targetPGRight?t.row.targetPGLeft===t.row.targetPGRight?[a("span",[e._v(e._s(t.row.targetPGLeft)+" 名")])]:[a("span",[e._v(e._s(t.row.targetPGLeft)+" - "+e._s(t.row.targetPGRight)+" 名")])]:[e._v("\n                            无\n                        ")]],2),e._v(" "),a("el-form-item",{attrs:{label:"目标：培养博士研究生"}},[t.row.targetDrLeft||t.row.targetDrRight?t.row.targetDrLeft===t.row.targetDrRight?[a("span",[e._v(e._s(t.row.targetDrLeft)+" 名")])]:[a("span",[e._v(e._s(t.row.targetDrLeft)+" - "+e._s(t.row.targetDrRight)+" 名")])]:[e._v("\n                            无\n                        ")]],2),e._v(" "),a("el-form-item",{attrs:{label:"已发表论文（系统）"}},[a("span",[e._v(e._s(t.row.systemAlreadyPaper))])]),e._v(" "),a("el-form-item",{attrs:{label:"已发表专利（系统）"}},[a("span",[e._v(e._s(t.row.systemAlreadyPatent))])]),e._v(" "),a("el-form-item",{attrs:{label:"已发表软著（系统）"}},[a("span",[e._v(e._s(t.row.systemAlreadySWCopyRight))])]),e._v(" "),a("el-form-item",{attrs:{label:"已发表论文（人工）"}},[a("span",[e._v(e._s(t.row.manualAlreadyPaper))])]),e._v(" "),a("el-form-item",{attrs:{label:"已发表专利（人工）"}},[a("span",[e._v(e._s(t.row.manualAlreadyPatent))])]),e._v(" "),a("el-form-item",{attrs:{label:"已发表软著（人工）"}},[a("span",[e._v(e._s(t.row.manualAlreadySWCopyRight))])]),e._v(" "),a("el-form-item",{attrs:{label:"已培养硕士研究生（人工）"}},[a("span",[e._v(e._s(t.row.manualAlreadyPG))])]),e._v(" "),a("el-form-item",{attrs:{label:"已培养博士研究生（人工）"}},[a("span",[e._v(e._s(t.row.manualAlreadyDr))])]),e._v(" "),a("el-form-item",{attrs:{label:"总进度（系统）"}},[a("span",[e._v(e._s(e.calculateProgress(t.row))+" %  ")])]),e._v(" "),a("el-form-item",{attrs:{label:"该项目相关附件"}},[t.row.project_attachments_details.length>0?a("div",{staticStyle:{display:"flex","flex-wrap":"wrap","align-items":"center"}},e._l(t.row.project_attachments_details,function(t,r){return a("a",{key:r,staticStyle:{color:"#409eff","text-decoration":"underline","margin-right":"10px","margin-bottom":"10px"},attrs:{href:"http://47.122.131.74:8080/api/file/preview/"+t.attachmentName,target:"_blank",rel:"noopener noreferrer"}},[e._v("\n                            "+e._s(t.attachmentName)+" ")])}),0):a("span",[e._v("未上传附件")])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"100px",label:"项目类别",prop:"category"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"130px",label:"项目名称",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目（批准）号",prop:"projectNum"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目状态",prop:"state"}}),e._v(" "),a("el-table-column",{attrs:{label:"参与角色",prop:"role"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目经费（万元）",prop:"expenditure"}}),e._v(" "),a("el-table-column",{attrs:{label:"项目进度"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-progress",{attrs:{percentage:e.calculateProgress(t.row)}})]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-popconfirm",{attrs:{title:"确定要删除这份项目吗？","confirm-button-text":"确定","cancel-button-text":"取消"},on:{confirm:function(a){return e.handleDelete(t.$index,t.row)}}},[a("el-button",{attrs:{slot:"reference",size:"small",type:"danger"},slot:"reference"},[e._v("删除")])],1)]}}])})],1),e._v(" "),a("div",{staticClass:"Pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:e.dynamicDiaTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"projectForm",attrs:{model:e.projectForm,rules:e.rules}},[1===e.dynamicState?a("el-form-item",{attrs:{label:"项目 ID","label-width":"170px"}},[a("el-input",{attrs:{disabled:!0,placeholder:"自动生成的项目 ID"},model:{value:e.projectForm.projectId,callback:function(t){e.$set(e.projectForm,"projectId",t)},expression:"projectForm.projectId"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{required:"",label:"项目类别",prop:"category","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入项目类别",clearable:"","auto-complete":"off"},model:{value:e.projectForm.category,callback:function(t){e.$set(e.projectForm,"category",t)},expression:"projectForm.category"}})],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"项目名称",prop:"title","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入项目名称",clearable:"","auto-complete":"off"},model:{value:e.projectForm.title,callback:function(t){e.$set(e.projectForm,"title",t)},expression:"projectForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"项目（批准）号",prop:"projectNum","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入项目（批准）号",clearable:"","auto-complete":"off"},model:{value:e.projectForm.projectNum,callback:function(t){e.$set(e.projectForm,"projectNum",t)},expression:"projectForm.projectNum"}})],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"项目状态",prop:"state","label-width":"170px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{clearable:"",placeholder:"请选择项目状态"},model:{value:e.projectForm.state,callback:function(t){e.$set(e.projectForm,"state",t)},expression:"projectForm.state"}},[a("el-option",{attrs:{label:"在研",value:"在研"}}),e._v(" "),a("el-option",{attrs:{label:"结题",value:"结题"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"项目级别",prop:"level","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入项目级别",clearable:"","auto-complete":"off"},model:{value:e.projectForm.level,callback:function(t){e.$set(e.projectForm,"level",t)},expression:"projectForm.level"}})],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"参与角色",prop:"role","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入参与角色",clearable:"","auto-complete":"off"},model:{value:e.projectForm.role,callback:function(t){e.$set(e.projectForm,"role",t)},expression:"projectForm.role"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"项目经费",prop:"expenditure","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入项目经费",clearable:"",type:"number","auto-complete":"off"},model:{value:e.projectForm.expenditure,callback:function(t){e.$set(e.projectForm,"expenditure",t)},expression:"projectForm.expenditure"}})],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"署名单位",prop:"signature","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入署名单位",clearable:"","auto-complete":"off"},model:{value:e.projectForm.signature,callback:function(t){e.$set(e.projectForm,"signature",t)},expression:"projectForm.signature"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"立项日期",prop:"pubDate","label-width":"170px"}},[a("el-col",{staticStyle:{width:"100%"},attrs:{span:11}},[a("el-form-item",{attrs:{prop:"pubDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"date",placeholder:"选择立项日期","value-format":"yyyy-MM-dd"},model:{value:e.projectForm.pubDate,callback:function(t){e.$set(e.projectForm,"pubDate",t)},expression:"projectForm.pubDate"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"项目开始日期",prop:"startDate","label-width":"170px"}},[a("el-col",{staticStyle:{width:"100%"},attrs:{span:11}},[a("el-form-item",{attrs:{prop:"startDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"date",placeholder:"选择项目开始日期","value-format":"yyyy-MM-dd"},model:{value:e.projectForm.startDate,callback:function(t){e.$set(e.projectForm,"startDate",t)},expression:"projectForm.startDate"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"项目结束日期",prop:"endDate","label-width":"170px"}},[a("el-col",{staticStyle:{width:"100%"},attrs:{span:11}},[a("el-form-item",{attrs:{prop:"endDate"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{clearable:"",type:"date",placeholder:"选择项目结束日期","value-format":"yyyy-MM-dd"},model:{value:e.projectForm.endDate,callback:function(t){e.$set(e.projectForm,"endDate",t)},expression:"projectForm.endDate"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"目标：发表学术论文","label-width":"170px"}},[a("el-row",{attrs:{gutter:20,type:"flex",justify:"space-between"}},[a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetPaperLeft"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最小篇数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("篇")])]},proxy:!0}]),model:{value:e.projectForm.targetPaperLeft,callback:function(t){e.$set(e.projectForm,"targetPaperLeft",t)},expression:"projectForm.targetPaperLeft"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"line-height":"36px","text-align":"center"},attrs:{span:2}},[a("span",[e._v("~")])]),e._v(" "),a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetPaperRight"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最大篇数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("篇")])]},proxy:!0}]),model:{value:e.projectForm.targetPaperRight,callback:function(t){e.$set(e.projectForm,"targetPaperRight",t)},expression:"projectForm.targetPaperRight"}})],1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"目标：发表专利","label-width":"170px"}},[a("el-row",{attrs:{gutter:20,type:"flex",justify:"space-between"}},[a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetPatentLeft"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最小项数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("项")])]},proxy:!0}]),model:{value:e.projectForm.targetPatentLeft,callback:function(t){e.$set(e.projectForm,"targetPatentLeft",t)},expression:"projectForm.targetPatentLeft"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"line-height":"36px","text-align":"center"},attrs:{span:2}},[a("span",[e._v("~")])]),e._v(" "),a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetPatentRight"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最大项数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("项")])]},proxy:!0}]),model:{value:e.projectForm.targetPatentRight,callback:function(t){e.$set(e.projectForm,"targetPatentRight",t)},expression:"projectForm.targetPatentRight"}})],1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"目标：发表软著","label-width":"170px"}},[a("el-row",{attrs:{gutter:20,type:"flex",justify:"space-between"}},[a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetSWCopyRightLeft"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最小项数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("项")])]},proxy:!0}]),model:{value:e.projectForm.targetSWCopyRightLeft,callback:function(t){e.$set(e.projectForm,"targetSWCopyRightLeft",t)},expression:"projectForm.targetSWCopyRightLeft"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"line-height":"36px","text-align":"center"},attrs:{span:2}},[a("span",[e._v("~")])]),e._v(" "),a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetSWCopyRightRight"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最大项数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("项")])]},proxy:!0}]),model:{value:e.projectForm.targetSWCopyRightRight,callback:function(t){e.$set(e.projectForm,"targetSWCopyRightRight",t)},expression:"projectForm.targetSWCopyRightRight"}})],1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"目标：培养硕士研究生","label-width":"170px"}},[a("el-row",{attrs:{gutter:20,type:"flex",justify:"space-between"}},[a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetPGLeft"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最小人数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("名")])]},proxy:!0}]),model:{value:e.projectForm.targetPGLeft,callback:function(t){e.$set(e.projectForm,"targetPGLeft",t)},expression:"projectForm.targetPGLeft"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"line-height":"36px","text-align":"center"},attrs:{span:2}},[a("span",[e._v("~")])]),e._v(" "),a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetPGRight"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最大人数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("名")])]},proxy:!0}]),model:{value:e.projectForm.targetPGRight,callback:function(t){e.$set(e.projectForm,"targetPGRight",t)},expression:"projectForm.targetPGRight"}})],1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"目标：培养博士研究生","label-width":"170px"}},[a("el-row",{attrs:{gutter:20,type:"flex",justify:"space-between"}},[a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetDrLeft"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最小人数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("名")])]},proxy:!0}]),model:{value:e.projectForm.targetDrLeft,callback:function(t){e.$set(e.projectForm,"targetDrLeft",t)},expression:"projectForm.targetDrLeft"}})],1)],1),e._v(" "),a("el-col",{staticStyle:{"line-height":"36px","text-align":"center"},attrs:{span:2}},[a("span",[e._v("~")])]),e._v(" "),a("el-col",{staticStyle:{width:"100%"},attrs:{span:8}},[a("el-form-item",{staticStyle:{"margin-bottom":"0"},attrs:{prop:"targetDrRight"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"目标最大人数",clearable:"",type:"number"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("名")])]},proxy:!0}]),model:{value:e.projectForm.targetDrRight,callback:function(t){e.$set(e.projectForm,"targetDrRight",t)},expression:"projectForm.targetDrRight"}})],1)],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"已发表论文",prop:"manualAlreadyPaper","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"若想手动修改系统统计数据，请在此栏输入",clearable:"",type:"number","auto-complete":"off"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("篇")])]},proxy:!0}]),model:{value:e.projectForm.manualAlreadyPaper,callback:function(t){e.$set(e.projectForm,"manualAlreadyPaper",t)},expression:"projectForm.manualAlreadyPaper"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"已发表专利",prop:"manualAlreadyPatent","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"若想手动修改系统统计数据，请在此栏输入",clearable:"",type:"number","auto-complete":"off"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("项")])]},proxy:!0}]),model:{value:e.projectForm.manualAlreadyPatent,callback:function(t){e.$set(e.projectForm,"manualAlreadyPatent",t)},expression:"projectForm.manualAlreadyPatent"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"已发表软著",prop:"manualAlreadySWCopyRight","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"若想手动修改系统统计数据，请在此栏输入",clearable:"",type:"number","auto-complete":"off"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("项")])]},proxy:!0}]),model:{value:e.projectForm.manualAlreadySWCopyRight,callback:function(t){e.$set(e.projectForm,"manualAlreadySWCopyRight",t)},expression:"projectForm.manualAlreadySWCopyRight"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"已培养硕士研究生",prop:"manualAlreadyPG","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请手动输入！",clearable:"",type:"number","auto-complete":"off"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("名")])]},proxy:!0}]),model:{value:e.projectForm.manualAlreadyPG,callback:function(t){e.$set(e.projectForm,"manualAlreadyPG",t)},expression:"projectForm.manualAlreadyPG"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"已培养博士研究生",prop:"manualAlreadyDr","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请手动输入！",clearable:"",type:"number","auto-complete":"off"},scopedSlots:e._u([{key:"append",fn:function(){return[a("span",[e._v("名")])]},proxy:!0}]),model:{value:e.projectForm.manualAlreadyDr,callback:function(t){e.$set(e.projectForm,"manualAlreadyDr",t)},expression:"projectForm.manualAlreadyDr"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"该项目相关附件","label-width":"170px"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://47.122.131.74:8080/api/file/upload/",multiple:!1,limit:20,"on-remove":e.handleAwardsRemove,"before-remove":e.beforeRemove,"on-exceed":e.handleExceed,"on-success":e.handleAwardsUploadSuccess,"file-list":e.projectFileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.createProject}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]}}});