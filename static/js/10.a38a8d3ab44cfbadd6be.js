webpackJsonp([10],{211:function(t,e,a){a(537);var r=a(94)(a(407),a(563),null,null);t.exports=r.exports},234:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(57),o=a.n(r),n=a(56),i=a.n(n),l=a(58),s=a.n(l),u=a(95),m=a(96),c=a(97);e.default={data:function(){return{baseImgPath:m.b}},created:function(){},computed:s()({},a.i(c.b)(["adminInfo"])),methods:s()({},a.i(c.c)(["getAdminData"]),{handleCommand:function(t){var e=this;return i()(o.a.mark(function r(){var n;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("home"!=t){r.next=4;break}e.$router.push("/manage"),r.next=9;break;case 4:if("signout"!=t){r.next=9;break}return r.next=7,a.i(u.g)();case 7:n=r.sent,1==n.status?(e.$message({type:"success",message:"退出成功"}),e.$router.push("/")):e.$message({type:"error",message:n.message});case 9:case"end":return r.stop()}},r,e)}))()}})}},235:function(t,e,a){e=t.exports=a(206)(!1),e.push([t.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},236:function(t,e,a){var r=a(235);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(207)("019239ba",r,!0)},237:function(t,e,a){a(236);var r=a(94)(a(234),a(238),null,null);t.exports=r.exports},238:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[t._v("首页")]),t._v(" "),t._l(t.$route.meta,function(e,r){return a("el-breadcrumb-item",{key:r},[t._v(t._s(e))])})],2)],1)},staticRenderFns:[]}},407:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=a(59),o=a.n(r),n=a(58),i=a.n(n),l=a(57),s=a.n(l),u=a(56),m=a.n(u),c=a(237),h=a.n(c),f=a(95);e.default={data:function(){return{dynamicDiaTitle:"新增作者信息",dynamicState:0,tableData:[],currentRow:null,offset:0,limit:10,count:0,currentPage:1,dialogFormVisible:!1,authorForm:{authorId:null,firstName:"",lastName:"",mandarinName:"",affiliationCountry:"",mandarinAffiliation:"",email:"",homepage:"",labStudent:""},searchForm:{authorName:"",affiliationName:"",labStudent:""},rules:{firstName:[{required:!0,message:"请输入作者名字（英）",trigger:"blur"},{required:!0,message:"请输入作者名字（英）",trigger:"change"}],lastName:[{required:!0,message:"请输入作者姓氏（英）",trigger:"blur"},{required:!0,message:"请输入作者姓氏（英）",trigger:"change"}]}}},components:{headTop:h.a},created:function(){this.initData()},methods:{handleSearch:function(){var t=this;return m()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getAuthors();case 1:case"end":return e.stop()}},e,t)}))()},handleReset:function(){this.searchForm={authorName:"",affiliationName:"",labStudent:""},this.handleSearch()},getAuthors:function(){var t=this;return m()(s.a.mark(function e(){var r,o;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t.tableData=[],e.prev=1,r=i()({},t.searchForm,{page:t.currentPage-1,size:t.limit}),e.next=5,a.i(f.J)(r);case 5:o=e.sent,t.count=o.authorCount,t.tableData=[],o.authorDetailList.length>0&&o.authorDetailList.forEach(function(e){var a={};a.authorId=e.authorId,a.firstName=e.firstName,a.lastName=e.lastName,a.englishName=e.firstName+" "+e.lastName,a.mandarinName=e.mandarinName,a.affiliationCountry=e.affiliationCountry,a.mandarinAffiliation=e.mandarinAffiliation,a.email=e.email,a.homepage=e.homepage,a.labStudent=e.labStudent,t.tableData.push(a)}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("获取数据失败",e.t0);case 14:case"end":return e.stop()}},e,t,[[1,11]])}))()},initData:function(){var t=this;return m()(s.a.mark(function e(){return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.getAuthors();case 1:case"end":return e.stop()}},e,t)}))()},handleSizeChange:function(t){this.currentPage=1,this.limit=t,this.offset=(this.currentPage-1)*t,this.getAuthors()},handleCurrentChange:function(t){this.currentPage=t,this.offset=(t-1)*this.limit,this.getAuthors()},resetAuthorForm:function(){this.authorForm={authorId:null,firstName:"",lastName:"",mandarinName:"",affiliationCountry:"",mandarinAffiliation:"",email:"",homepage:"",labStudent:""}},handleCreate:function(){if(0===this.dynamicState)return void(this.dialogFormVisible=!0);this.dynamicState=0,this.dynamicDiaTitle="新增作者信息",this.resetAuthorForm(),this.dialogFormVisible=!0},handleEdit:function(t,e){var a=this;return m()(s.a.mark(function t(){return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a.dynamicState=1,a.dynamicDiaTitle="编辑作者信息",a.resetAuthorForm(),a.authorForm.authorId=e.authorId,a.authorForm.firstName=e.firstName,a.authorForm.lastName=e.lastName,a.authorForm.mandarinName=e.mandarinName,a.authorForm.affiliationCountry=e.affiliationCountry,a.authorForm.mandarinAffiliation=e.mandarinAffiliation,a.authorForm.email=e.email,a.authorForm.homepage=e.homepage,a.authorForm.labStudent=e.labStudent,a.dialogFormVisible=!0;case 13:case"end":return t.stop()}},t,a)}))()},handleDelete:function(t,e){var r=this;return m()(s.a.mark(function t(){var o,n;return s.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.i(f.K)({authorId:e.authorId});case 3:if(o=t.sent,1!=o.status){t.next=13;break}return r.$message({type:"success",message:"删除作者成功"}),t.next=8,a.i(f.L)();case 8:n=t.sent,r.count=n.count,r.getAuthors(),t.next=14;break;case 13:throw new Error(o.message);case 14:t.next=20;break;case 16:t.prev=16,t.t0=t.catch(0),r.$message({type:"error",message:t.t0.message}),console.log("删除作者失败");case 20:case"end":return t.stop()}},t,r,[[0,16]])}))()},getUsers:function(){var t=this;return m()(s.a.mark(function e(){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.i(f.M)({offset:t.offset,limit:t.limit});case 2:r=e.sent,t.tableData=[],r.forEach(function(e){var a={};a.username=e.username,a.registe_time=e.registe_time,a.city=e.city,t.tableData.push(a)});case 5:case"end":return e.stop()}},e,t)}))()},createAuthor:function(){var t=this;return m()(s.a.mark(function e(){var r,n,i,l,u,m,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new o.a(function(e){t.$refs.authorForm.validate(function(t){e(t)})});case 3:if(!(r=e.sent)){e.next=44;break}if(0!=t.dynamicState){e.next=25;break}return n={firstName:t.authorForm.firstName,lastName:t.authorForm.lastName,mandarinName:t.authorForm.mandarinName,affiliationCountry:t.authorForm.affiliationCountry,mandarinAffiliation:t.authorForm.mandarinAffiliation,email:t.authorForm.email,homepage:t.authorForm.homepage,labStudent:t.authorForm.labStudent},e.next=9,a.i(f.N)(n);case 9:if(i=e.sent,1!=i.status){e.next=21;break}return t.$message({type:"success",message:"创建作者信息成功！"}),t.dialogFormVisible=!1,t.resetAuthorForm(),e.next=16,a.i(f.L)();case 16:l=e.sent,t.count=l.count,t.getAuthors(),e.next=23;break;case 21:t.$message({type:"error",message:i.message}),t.dialogFormVisible=!1;case 23:e.next=42;break;case 25:return u={authorId:t.authorForm.authorId,firstName:t.authorForm.firstName,lastName:t.authorForm.lastName,mandarinName:t.authorForm.mandarinName,affiliationCountry:t.authorForm.affiliationCountry,mandarinAffiliation:t.authorForm.mandarinAffiliation,email:t.authorForm.email,homepage:t.authorForm.homepage,labStudent:t.authorForm.labStudent},e.next=28,a.i(f.O)(u);case 28:if(m=e.sent,1!=m.status){e.next=40;break}return t.$message({type:"success",message:"更新作者信息成功！"}),t.dialogFormVisible=!1,t.resetAuthorForm(),e.next=35,a.i(f.L)();case 35:c=e.sent,t.count=c.count,t.getAuthors(),e.next=42;break;case 40:t.$message({type:"error",message:m.message}),t.dialogFormVisible=!1;case 42:e.next=45;break;case 44:t.$message({type:"error",message:"表单验证未通过，请检查输入内容！"});case 45:e.next=50;break;case 47:e.prev=47,e.t0=e.catch(0),console.log("创建作者失败！",e.t0);case 50:case"end":return e.stop()}},e,t,[[0,47]])}))()}}}},442:function(t,e,a){e=t.exports=a(206)(!1),e.push([t.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.table_container{padding:20px}",""])},537:function(t,e,a){var r=a(442);"string"==typeof r&&(r=[[t.i,r,""]]),r.locals&&(t.exports=r.locals);a(207)("72fadb85",r,!0)},563:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"fillcontain"},[a("head-top"),t._v(" "),a("div",{staticStyle:{"margin-top":"20px"}},[a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:t.searchForm,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"作者名字包含"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:t.searchForm.authorName,callback:function(e){t.$set(t.searchForm,"authorName",e)},expression:"searchForm.authorName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位名称包含"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:t.searchForm.affiliationName,callback:function(e){t.$set(t.searchForm,"affiliationName",e)},expression:"searchForm.affiliationName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"实验室学生"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入"},model:{value:t.searchForm.labStudent,callback:function(e){t.$set(t.searchForm,"labStudent",e)},expression:"searchForm.labStudent"}})],1),t._v(" "),a("el-form-item",[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",plain:""},on:{click:t.handleSearch}},[a("i",{staticClass:"el-icon-search"}),t._v(" 搜索\n            ")]),t._v(" "),a("el-button",{staticStyle:{width:"100px"},attrs:{type:"info",plain:""},on:{click:t.handleReset}},[a("i",{staticClass:"el-icon-refresh-left"}),t._v(" 重置\n            ")]),t._v(" "),a("el-button",{staticStyle:{width:"300px"},attrs:{type:"success",plain:""},on:{click:t.handleCreate}},[a("i",{staticClass:"el-icon-plus"}),t._v(" 新增作者\n            ")])],1)],1)],1),t._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,"highlight-current-row":""}},[a("el-table-column",{attrs:{property:"authorId",label:"作者ID",width:"100"}}),t._v(" "),a("el-table-column",{attrs:{property:"englishName",label:"英文名",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{property:"mandarinName",label:"中文名",width:"160"}}),t._v(" "),a("el-table-column",{attrs:{property:"affiliationCountry",label:"单位（英）",width:"220"}}),t._v(" "),a("el-table-column",{attrs:{property:"mandarinAffiliation",label:"单位（中）",width:"220"}}),t._v(" "),a("el-table-column",{attrs:{property:"email",label:"邮箱",width:"220"}}),t._v(" "),a("el-table-column",{attrs:{property:"homepage",label:"主页",width:"220"}}),t._v(" "),a("el-table-column",{attrs:{property:"labStudent",label:"实验室学生",width:"220"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),t._v(" "),a("el-popconfirm",{attrs:{title:"确定要删除这个作者吗？需确保该作者无相关论文","confirm-button-text":"确定","cancel-button-text":"取消"},on:{confirm:function(a){return t.handleDelete(e.$index,e.row)}}},[a("el-button",{attrs:{slot:"reference",size:"small",type:"danger"},slot:"reference"},[t._v("删除")])],1)]}}])})],1),t._v(" "),a("div",{staticClass:"Pagination"},[a("el-pagination",{attrs:{"current-page":t.currentPage,"page-sizes":[10,20,50],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:t.count},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange,"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e}}})],1)],1),t._v(" "),a("el-dialog",{attrs:{width:"25%",title:t.dynamicDiaTitle,visible:t.dialogFormVisible},on:{"update:visible":function(e){t.dialogFormVisible=e}}},[a("el-form",{ref:"authorForm",attrs:{model:t.authorForm,rules:t.rules}},[1===t.dynamicState?a("el-form-item",{attrs:{label:"作者 ID","label-width":"140px"}},[a("el-input",{attrs:{disabled:!0,placeholder:"自动生成的论文 ID"},model:{value:t.authorForm.authorId,callback:function(e){t.$set(t.authorForm,"authorId",e)},expression:"authorForm.authorId"}})],1):t._e(),t._v(" "),a("el-form-item",{attrs:{required:"",label:"First Name",prop:"firstName","label-width":"140px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入First Name","auto-complete":"off"},model:{value:t.authorForm.firstName,callback:function(e){t.$set(t.authorForm,"firstName",e)},expression:"authorForm.firstName"}})],1),t._v(" "),a("el-form-item",{attrs:{required:"",label:"Last Name",prop:"lastName","label-width":"140px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入Last Name","auto-complete":"off"},model:{value:t.authorForm.lastName,callback:function(e){t.$set(t.authorForm,"lastName",e)},expression:"authorForm.lastName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"中文名",prop:"mandarinName","label-width":"140px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入中文名","auto-complete":"off"},model:{value:t.authorForm.mandarinName,callback:function(e){t.$set(t.authorForm,"mandarinName",e)},expression:"authorForm.mandarinName"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位（英）",prop:"affiliationCountry","label-width":"140px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入单位（英）","auto-complete":"off"},model:{value:t.authorForm.affiliationCountry,callback:function(e){t.$set(t.authorForm,"affiliationCountry",e)},expression:"authorForm.affiliationCountry"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"单位（中）",prop:"mandarinAffiliation","label-width":"140px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入单位（中）","auto-complete":"off"},model:{value:t.authorForm.mandarinAffiliation,callback:function(e){t.$set(t.authorForm,"mandarinAffiliation",e)},expression:"authorForm.mandarinAffiliation"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"邮箱",prop:"email","label-width":"140px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入邮箱","auto-complete":"off"},model:{value:t.authorForm.email,callback:function(e){t.$set(t.authorForm,"email",e)},expression:"authorForm.email"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"主页",prop:"homepage","label-width":"140px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入主页","auto-complete":"off"},model:{value:t.authorForm.homepage,callback:function(e){t.$set(t.authorForm,"homepage",e)},expression:"authorForm.homepage"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"实验室学生",prop:"labStudent","label-width":"140px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入实验室学生情况","auto-complete":"off"},model:{value:t.authorForm.labStudent,callback:function(e){t.$set(t.authorForm,"labStudent",e)},expression:"authorForm.labStudent"}})],1)],1),t._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogFormVisible=!1}}},[t._v("取 消")]),t._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:t.createAuthor}},[t._v("确 定")])],1)],1)],1)},staticRenderFns:[]}}});