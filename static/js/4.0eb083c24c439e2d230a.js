webpackJsonp([4],{219:function(e,t,a){a(544);var r=a(94)(a(415),a(570),null,null);e.exports=r.exports},234:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(57),n=a.n(r),s=a(56),o=a.n(s),i=a(58),l=a.n(i),c=a(95),u=a(96),p=a(97);t.default={data:function(){return{baseImgPath:u.b}},created:function(){},computed:l()({},a.i(p.b)(["adminInfo"])),methods:l()({},a.i(p.c)(["getAdminData"]),{handleCommand:function(e){var t=this;return o()(n.a.mark(function r(){var s;return n.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if("home"!=e){r.next=4;break}t.$router.push("/manage"),r.next=9;break;case 4:if("signout"!=e){r.next=9;break}return r.next=7,a.i(c.g)();case 7:s=r.sent,1==s.status?(t.$message({type:"success",message:"退出成功"}),t.$router.push("/")):t.$message({type:"error",message:s.message});case 9:case"end":return r.stop()}},r,t)}))()}})}},235:function(e,t,a){t=e.exports=a(206)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.header_container{background-color:#eff2f7;height:60px;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;-ms-flex-align:center;align-items:center;padding-left:20px}.avator{width:36px;height:36px;border-radius:50%;margin-right:37px}.el-dropdown-menu__item{text-align:center}",""])},236:function(e,t,a){var r=a(235);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(207)("019239ba",r,!0)},237:function(e,t,a){a(236);var r=a(94)(a(234),a(238),null,null);e.exports=r.exports},238:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"header_container"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",{attrs:{to:{path:"/manage"}}},[e._v("首页")]),e._v(" "),e._l(e.$route.meta,function(t,r){return a("el-breadcrumb-item",{key:r},[e._v(e._s(t))])})],2)],1)},staticRenderFns:[]}},259:function(e,t,a){var r=a(12);e.exports=function(e,t){if(!r(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},261:function(e,t,a){e.exports={default:a(263),__esModule:!0}},262:function(e,t,a){"use strict";t.__esModule=!0;var r=a(261),n=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return(0,n.default)(e)}},263:function(e,t,a){a(61),a(265),e.exports=a(4).Array.from},264:function(e,t,a){"use strict";var r=a(11),n=a(26);e.exports=function(e,t,a){t in e?r.f(e,t,n(0,a)):e[t]=a}},265:function(e,t,a){"use strict";var r=a(24),n=a(10),s=a(25),o=a(103),i=a(102),l=a(60),c=a(264),u=a(105);n(n.S+n.F*!a(104)(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,n,p,m=s(e),f="function"==typeof this?this:Array,d=arguments.length,h=d>1?arguments[1]:void 0,v=void 0!==h,_=0,b=u(m);if(v&&(h=r(h,d>2?arguments[2]:void 0,2)),void 0==b||f==Array&&i(b))for(t=l(m.length),a=new f(t);t>_;_++)c(a,_,v?h(m[_],_):m[_]);else for(p=b.call(m),a=new f;!(n=p.next()).done;_++)c(a,_,v?o(p,h,[n.value,_],!0):n.value);return a.length=_,a}})},278:function(e,t,a){e.exports={default:a(279),__esModule:!0}},279:function(e,t,a){a(66),a(61),a(67),a(289),a(292),a(291),a(290),e.exports=a(4).Map},280:function(e,t,a){var r=a(98);e.exports=function(e,t){var a=[];return r(e,!1,a.push,a,t),a}},281:function(e,t,a){var r=a(24),n=a(63),s=a(25),o=a(60),i=a(283);e.exports=function(e,t){var a=1==e,l=2==e,c=3==e,u=4==e,p=6==e,m=5==e||p,f=t||i;return function(t,i,d){for(var h,v,_=s(t),b=n(_),g=r(i,d,3),F=o(b.length),x=0,w=a?f(t,F):l?f(t,0):void 0;F>x;x++)if((m||x in b)&&(h=b[x],v=g(h,x,_),e))if(a)w[x]=v;else if(v)switch(e){case 3:return!0;case 5:return h;case 6:return x;case 2:w.push(h)}else if(u)return!1;return p?-1:c||u?u:w}}},282:function(e,t,a){var r=a(12),n=a(106),s=a(5)("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),r(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},283:function(e,t,a){var r=a(282);e.exports=function(e,t){return new(r(e))(t)}},284:function(e,t,a){"use strict";var r=a(11).f,n=a(65),s=a(101),o=a(24),i=a(99),l=a(98),c=a(64),u=a(107),p=a(108),m=a(8),f=a(100).fastKey,d=a(259),h=m?"_s":"size",v=function(e,t){var a,r=f(t);if("F"!==r)return e._i[r];for(a=e._f;a;a=a.n)if(a.k==t)return a};e.exports={getConstructor:function(e,t,a,c){var u=e(function(e,r){i(e,u,t,"_i"),e._t=t,e._i=n(null),e._f=void 0,e._l=void 0,e[h]=0,void 0!=r&&l(r,a,e[c],e)});return s(u.prototype,{clear:function(){for(var e=d(this,t),a=e._i,r=e._f;r;r=r.n)r.r=!0,r.p&&(r.p=r.p.n=void 0),delete a[r.i];e._f=e._l=void 0,e[h]=0},delete:function(e){var a=d(this,t),r=v(a,e);if(r){var n=r.n,s=r.p;delete a._i[r.i],r.r=!0,s&&(s.n=n),n&&(n.p=s),a._f==r&&(a._f=n),a._l==r&&(a._l=s),a[h]--}return!!r},forEach:function(e){d(this,t);for(var a,r=o(e,arguments.length>1?arguments[1]:void 0,3);a=a?a.n:this._f;)for(r(a.v,a.k,this);a&&a.r;)a=a.p},has:function(e){return!!v(d(this,t),e)}}),m&&r(u.prototype,"size",{get:function(){return d(this,t)[h]}}),u},def:function(e,t,a){var r,n,s=v(e,t);return s?s.v=a:(e._l=s={i:n=f(t,!0),k:t,v:a,p:r=e._l,n:void 0,r:!1},e._f||(e._f=s),r&&(r.n=s),e[h]++,"F"!==n&&(e._i[n]=s)),e},getEntry:v,setStrong:function(e,t,a){c(e,t,function(e,a){this._t=d(e,t),this._k=a,this._l=void 0},function(){for(var e=this,t=e._k,a=e._l;a&&a.r;)a=a.p;return e._t&&(e._l=a=a?a.n:e._t._f)?"keys"==t?u(0,a.k):"values"==t?u(0,a.v):u(0,[a.k,a.v]):(e._t=void 0,u(1))},a?"entries":"values",!a,!0),p(t)}}},285:function(e,t,a){var r=a(62),n=a(280);e.exports=function(e){return function(){if(r(this)!=e)throw TypeError(e+"#toJSON isn't generic");return n(this)}}},286:function(e,t,a){"use strict";var r=a(2),n=a(10),s=a(100),o=a(16),i=a(13),l=a(101),c=a(98),u=a(99),p=a(12),m=a(28),f=a(11).f,d=a(281)(0),h=a(8);e.exports=function(e,t,a,v,_,b){var g=r[e],F=g,x=_?"set":"add",w=F&&F.prototype,y={};return h&&"function"==typeof F&&(b||w.forEach&&!o(function(){(new F).entries().next()}))?(F=t(function(t,a){u(t,F,e,"_c"),t._c=new g,void 0!=a&&c(a,_,t[x],t)}),d("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in w&&(!b||"clear"!=e)&&i(F.prototype,e,function(a,r){if(u(this,F,e),!t&&b&&!p(a))return"get"==e&&void 0;var n=this._c[e](0===a?0:a,r);return t?this:n})}),b||f(F.prototype,"size",{get:function(){return this._c.size}})):(F=v.getConstructor(t,e,_,x),l(F.prototype,a),s.NEED=!0),m(F,e),y[e]=F,n(n.G+n.W+n.F,y),b||v.setStrong(F,e,_),F}},287:function(e,t,a){"use strict";var r=a(10),n=a(27),s=a(24),o=a(98);e.exports=function(e){r(r.S,e,{from:function(e){var t,a,r,i,l=arguments[1];return n(this),t=void 0!==l,t&&n(l),void 0==e?new this:(a=[],t?(r=0,i=s(l,arguments[2],2),o(e,!1,function(e){a.push(i(e,r++))})):o(e,!1,a.push,a),new this(a))}})}},288:function(e,t,a){"use strict";var r=a(10);e.exports=function(e){r(r.S,e,{of:function(){for(var e=arguments.length,t=new Array(e);e--;)t[e]=arguments[e];return new this(t)}})}},289:function(e,t,a){"use strict";var r=a(284),n=a(259);e.exports=a(286)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{get:function(e){var t=r.getEntry(n(this,"Map"),e);return t&&t.v},set:function(e,t){return r.def(n(this,"Map"),0===e?0:e,t)}},r,!0)},290:function(e,t,a){a(287)("Map")},291:function(e,t,a){a(288)("Map")},292:function(e,t,a){var r=a(10);r(r.P+r.R,"Map",{toJSON:a(285)("Map")})},415:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(59),n=a.n(r),s=a(58),o=a.n(s),i=a(57),l=a.n(i),c=a(56),u=a.n(c),p=a(278),m=a.n(p),f=a(262),d=a.n(f),h=a(237),v=a.n(h),_=a(96),b=a(95);t.default={data:function(){return{searchForm:{title:"",authors:[],correspondingAuthors:[],dateRange:[],category:"",fullName:"",shortName:"",ccfLabel:"",firstIsSysu:null,shuaiIsCA:null,caIsMarked:null,fundings:[],shuaiIsFirst:null,affiliationName:""},dynamicDiaTitle:"新增论文信息",dynamicState:0,baseCompute:{totalCount:0,ccfACount:0,ccfBCount:0,ccfCCount:0,firstSysUCount:0,teacherFirstAuthorCount:0,teacherCAAuthorCount:0,teacherCAAuthorMarkedCount:0},paperForm:{paperId:null,title:"",authors:[],date:"",category:"",fullName:"",ccfLabel:"",first_is_sysu:null,shuai_is_CA:null,CA_is_marked:null,fundings:[],correspondingAuthors:[],awardsInfo:"",citations:"",affiliation_name_list:[]},rules:{title:[{required:!0,message:"请输入论文标题",trigger:"blur"},{required:!0,message:"请输入论文标题",trigger:"change"}],authors:[{required:!0,message:"请输入作者",trigger:"change"}],date:[{required:!0,message:"请输入发表日期",trigger:"change"}],category:[{required:!0,message:"请选择发表类别",trigger:"change"}],fullName:[{required:!0,message:"请输入会议全称",trigger:"blur"},{required:!0,message:"请输入会议全称",trigger:"change"}],ccfLabel:[{required:!0,message:"请选择CCF分类",trigger:"change"}],first_is_sysu:[{required:!0,message:"请选择",trigger:"change"}],shuai_is_CA:[{required:!0,message:"请选择",trigger:"change"}],CA_is_marked:[{required:!0,message:"请选择",trigger:"change"}]},searchFormAuthorOptions:[],searchFormCAAuthorOptions:[],searchFormfundingOptions:[],searchFormSelectedAuthorLabels:{},searchFormSelectedCAAuthorLabels:{},searchFormSelectedFundingLabels:{},authorOptions:[],fundingOptions:[],selectedAuthorLabels:{},selectedFundingLabels:{},awardsfileList:[],paperfileList:[],authorData:{},dialogVisible:[],dialogFundingVisible:[],baseUrl:_.a,baseImgPath:_.b,city:{},offset:0,limit:10,count:0,tableData:[],currentPage:1,selectTable:{},dialogFormVisible:!1,categoryOptions:[],selectedCategory:[],address:{},loading:!1,isEditing:!1,temporarilyDisableWatch:!1}},created:function(){this.initData()},computed:{mergedSearchFormAuthorOptions:function(){var e=this,t=this.searchForm.authors.map(function(t){var a=e.searchFormSelectedAuthorLabels[t];if(a)return{value:t,label:a};var r=e.searchFormAuthorOptions.find(function(e){return e.value===t});return r?(e.searchFormSelectedAuthorLabels[t]=r.label,r):{value:t,label:"未知作者"}});return[].concat(d()(new m.a([].concat(d()(t),d()(this.searchFormAuthorOptions)).map(function(e){return[e.value,e]})).values()))},mergedSearchFormCAAuthorOptions:function(){var e=this,t=this.searchForm.correspondingAuthors.map(function(t){var a=e.searchFormSelectedCAAuthorLabels[t];if(a)return{value:t,label:a};var r=e.searchFormCAAuthorOptions.find(function(e){return e.value===t});return r?(e.searchFormSelectedCAAuthorLabels[t]=r.label,r):{value:t,label:"未知作者"}});return[].concat(d()(new m.a([].concat(d()(t),d()(this.searchFormCAAuthorOptions)).map(function(e){return[e.value,e]})).values()))},mergedSearchFormFundingOptions:function(){var e=this,t=this.searchForm.fundings.map(function(t){var a=e.searchFormSelectedFundingLabels[t];if(a)return{value:t,label:a};var r=e.searchFormfundingOptions.find(function(e){return e.value===t});return r?(e.searchFormSelectedFundingLabels[t]=r.label,r):{value:t,label:"未知作者"}});return[].concat(d()(new m.a([].concat(d()(t),d()(this.searchFormfundingOptions)).map(function(e){return[e.value,e]})).values()))},mergedAuthorOptions:function(){var e=this,t=this.paperForm.authors.map(function(t){var a=e.selectedAuthorLabels[t];if(a)return{value:t,label:a};var r=e.authorOptions.find(function(e){return e.value===t});return r?(e.selectedAuthorLabels[t]=r.label,r):{value:t,label:"未知作者"}});return[].concat(d()(new m.a([].concat(d()(t),d()(this.authorOptions)).map(function(e){return[e.value,e]})).values()))},mergedFundingOptions:function(){var e=this,t=this.paperForm.fundings.map(function(t){var a=e.selectedFundingLabels[t];if(a)return{value:t,label:a};var r=e.fundingOptions.find(function(e){return e.value===t});return r?(e.selectedFundingLabels[t]=r.label,r):{value:t,label:"未知作者"}});return[].concat(d()(new m.a([].concat(d()(t),d()(this.fundingOptions)).map(function(e){return[e.value,e]})).values()))},correspondingAuthorOptions:function(){var e=this;return this.paperForm.authors.map(function(t){return e.mergedAuthorOptions.find(function(e){return e.value===t})})}},watch:{"paperForm.authors":{handler:"watchAuthorsHandler"}},components:{headTop:v.a},methods:{getLastAttachment:function(e){if(e&&"无"!==e){return e.split("/").pop()}return""},watchAuthorsHandler:function(e,t){var a=this;if(!this.isEditing)if(this.paperForm.correspondingAuthors=this.paperForm.correspondingAuthors.filter(function(t){return e.includes(t)}),e.length>t.length){var r=e.filter(function(e){return!t.includes(e)});r.forEach(function(){a.paperForm.affiliation_name_list.push("")})}else if(e.length<t.length){var n=t.filter(function(t){return!e.includes(t)});n.forEach(function(){var e=t.indexOf(n[0]);-1!==e&&a.paperForm.affiliation_name_list.splice(e,1)})}},initData:function(){var e=this;return u()(l.a.mark(function t(){var r;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a.i(b.D)();case 3:r=t.sent,e.baseCompute=r,e.getPapers(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log("获取数据失败",t.t0);case 11:case"end":return t.stop()}},t,e,[[0,8]])}))()},getPapers:function(){var e=this;return u()(l.a.mark(function t(){var r,n;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=o()({},e.searchForm,{page:e.currentPage-1,size:e.limit}),t.next=3,a.i(b.E)(r);case 3:n=t.sent,e.count=n.paperCount,e.tableData=[],n.paperDetailList.forEach(function(t){var a={};a.title=t.title,a.author=t.author_string_info,a.date=t.date,a.id=t.paperId,a.category=t.category,a.fullname=t.full_name,a.shortname=t.short_name,a.ccflabel=t.ccf_label,a.first_is_sysu=1===t.first_is_sysu?"是":"否",a.shuai_is_CA=1===t.shuai_is_CA?"是":"否",a.CA_is_marked=1===t.ca_is_marked?"是":"否",a.awards=null===t.awards_info?"无":t.awards_info,a.awards_attachment=null===t.awards_attachment?"无":t.awards_attachment,a.paper_attachment=null===t.paper_attachment?"无":t.paper_attachment,a.author_name_list=t.author_name_list,a.author_id_list=t.author_id_list,a.ca_author_id_list=t.ca_author_id_list,a.funding_list=t.funding_list,a.citations=t.citations,a.affiliation_name_list=t.affiliation_name_list,e.tableData.push(a)});case 7:case"end":return t.stop()}},t,e)}))()},formatAffiliationString:function(e){var t=new m.a;e.forEach(function(e,a){t.has(e)||t.set(e,[]),t.get(e).push(a+1)});var a=[];return t.forEach(function(e,t){a.push(t+"<sup>"+e.join(",")+"</sup>")}),a.join(", ")},handleSearch:function(){var e=this;return u()(l.a.mark(function t(){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.getPapers();case 1:case"end":return t.stop()}},t,e)}))()},handleReset:function(){this.searchForm={title:"",authors:[],correspondingAuthors:[],dateRange:[],category:"",fullName:"",shortName:"",ccfLabel:"",firstIsSysu:null,shuaiIsCA:null,caIsMarked:null,fundings:[],shuaiIsFirst:null,affiliationName:""},this.handleSearch()},handleSizeChange:function(e){this.currentPage=1,this.limit=e,this.offset=(this.currentPage-1)*e,this.getPapers()},handleCurrentChange:function(e){this.currentPage=e,this.offset=(e-1)*this.limit,this.getPapers()},fetchSearchFormAuthorOptions:function(e){var t=this;return u()(l.a.mark(function r(){var n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(""===e){r.next=10;break}return t.loading=!0,t.searchFormAuthorOptions=[],r.next=5,a.i(b.t)({keyword:e});case 5:n=r.sent,n.forEach(function(e){var a={};a.value=e.authorId,a.label=e.authorLabel,t.searchFormAuthorOptions.push(a)}),t.loading=!1,r.next=11;break;case 10:t.searchFormAuthorOptions=[];case 11:case"end":return r.stop()}},r,t)}))()},fetchSearchFormCAAuthorOptions:function(e){var t=this;return u()(l.a.mark(function r(){var n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(""===e){r.next=10;break}return t.loading=!0,t.searchFormCAAuthorOptions=[],r.next=5,a.i(b.t)({keyword:e});case 5:n=r.sent,n.forEach(function(e){var a={};a.value=e.authorId,a.label=e.authorLabel,t.searchFormCAAuthorOptions.push(a)}),t.loading=!1,r.next=11;break;case 10:t.searchFormCAAuthorOptions=[];case 11:case"end":return r.stop()}},r,t)}))()},fetchSearchFormFundingOptions:function(e){var t=this;return u()(l.a.mark(function r(){var n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(""===e){r.next=10;break}return t.loading=!0,t.searchFormfundingOptions=[],r.next=5,a.i(b.i)({keyword:e});case 5:n=r.sent,n.forEach(function(e){var a={};a.value=e.fundingId,a.label=e.fundingLabel,t.searchFormfundingOptions.push(a)}),t.loading=!1,r.next=11;break;case 10:t.searchFormfundingOptions=[];case 11:case"end":return r.stop()}},r,t)}))()},copyToClipboardFallback:function(e,t){var a=t.citations,r=document.createElement("textarea");r.value=a,document.body.appendChild(r),r.select(),document.execCommand("copy"),document.body.removeChild(r),this.$message.success("引用已复制到剪贴板！")},handleAwardsUploadSuccess:function(e,t,a){var r=e.url,n=e.fileName;r&&this.awardsfileList.push({name:n,url:r})},handleAwardsRemove:function(e,t){var r=this;return u()(l.a.mark(function t(){var n,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(b.c)({fileUrl:e.url});case 2:n=t.sent,1==n.status&&-1!==(s=r.awardsfileList.findIndex(function(t){return t.url===e.url}))&&r.awardsfileList.splice(s,1);case 4:case"end":return t.stop()}},t,r)}))()},handlePapersUploadSuccess:function(e,t,a){var r=e.url,n=e.fileName;r&&this.paperfileList.push({name:n,url:r})},handlePapersRemove:function(e,t){var r=this;return u()(l.a.mark(function t(){var n,s;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.i(b.c)({fileUrl:e.url});case 2:n=t.sent,1==n.status&&-1!==(s=r.paperfileList.findIndex(function(t){return t.url===e.url}))&&r.paperfileList.splice(s,1);case 4:case"end":return t.stop()}},t,r)}))()},handleExceed:function(e,t){this.$message.warning("只能上传1个文件")},beforeRemove:function(e,t){return this.$confirm("确定移除 "+e.name+"？")},fetchAuthorOptions:function(e){var t=this;return u()(l.a.mark(function r(){var n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(""===e){r.next=10;break}return t.loading=!0,t.authorOptions=[],r.next=5,a.i(b.t)({keyword:e});case 5:n=r.sent,n.forEach(function(e){var a={};a.value=e.authorId,a.label=e.authorLabel,t.authorOptions.push(a)}),t.loading=!1,r.next=11;break;case 10:t.authorOptions=[];case 11:case"end":return r.stop()}},r,t)}))()},fetchFundingOptions:function(e){var t=this;return u()(l.a.mark(function r(){var n;return l.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(""===e){r.next=10;break}return t.loading=!0,t.fundingOptions=[],r.next=5,a.i(b.i)({keyword:e});case 5:n=r.sent,n.forEach(function(e){var a={};a.value=e.fundingId,a.label=e.fundingLabel,t.fundingOptions.push(a)}),t.loading=!1,r.next=11;break;case 10:t.fundingOptions=[];case 11:case"end":return r.stop()}},r,t)}))()},openDialog:function(e,t){var r=this;return u()(l.a.mark(function n(){var s;return l.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.i(b.u)({authorId:t});case 2:s=n.sent,r.authorData.authorId=s.authorId,r.authorData.englishName=s.firstName+" "+s.lastName,r.authorData.mandarinName=null===s.mandarinName?"-":s.mandarinName,r.authorData.affiliationCountry=s.affiliationCountry,r.authorData.mandarinAffiliation=s.mandarinAffiliation,r.authorData.email=null===s.email?"-":s.email,r.authorData.homepage=null===s.homepage?"-":s.homepage,r.authorData.labStudent=null===s.labStudent?"-":s.labStudent,r.$set(r.dialogVisible,e,!0);case 12:case"end":return n.stop()}},n,r)}))()},closeDialog:function(e){this.$set(this.dialogVisible,e,!1)},handleClose:function(e){e()},handleEdit:function(e,t){var r=this;return u()(l.a.mark(function e(){var n,s,o,i,c,u;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r.isEditing=!0,e.prev=1,r.dynamicState=1,r.dynamicDiaTitle="编辑论文信息",r.resetPaperForm(),r.paperForm.paperId=t.id,r.paperForm.title=t.title,r.paperForm.date=t.date,r.paperForm.category=t.category,r.paperForm.fullName=t.fullname,r.paperForm.shortName=t.shortname,r.paperForm.ccfLabel=t.ccflabel,r.paperForm.first_is_sysu="是"===t.first_is_sysu?1:0,r.paperForm.shuai_is_CA="是"===t.shuai_is_CA?1:0,r.paperForm.CA_is_marked="是"===t.CA_is_marked?1:0,r.paperForm.awardsInfo="无"===t.awards?null:t.awards,r.paperForm.citations=t.citations,"string"==typeof t.awards_attachment&&t.awards_attachment.trim().length>0&&"无"!=t.awards_attachment&&(n=t.awards_attachment,s=n.split("/").pop(),r.awardsfileList.push({name:s,url:n})),"string"==typeof t.paper_attachment&&t.paper_attachment.trim().length>0&&"无"!=t.awards_attachment&&(o=t.paper_attachment,i=o.split("/").pop(),r.paperfileList.push({name:i,url:o})),c=(t.funding_list||[]).filter(function(e){return e&&void 0!==e.fundingId}).map(function(e){return e.fundingId}),e.next=22,a.i(b.j)({authorIdList:t.author_id_list,fundingIdList:c});case 22:u=e.sent,t.author_id_list.length>0&&u.authorLabels.forEach(function(e){var t={};t.value=e.id,t.label=e.label,r.authorOptions.push(t)}),c.length>0&&u.fundingLabels.forEach(function(e){var t={};t.value=e.id,t.label=e.label,r.fundingOptions.push(t)}),r.paperForm.authors=t.author_id_list,r.paperForm.correspondingAuthors=t.ca_author_id_list,r.$nextTick(function(){r.paperForm.affiliation_name_list=[].concat(d()(t.affiliation_name_list))}),r.paperForm.fundings=c;case 29:return e.prev=29,r.isEditing=!1,r.dialogFormVisible=!0,e.finish(29);case 33:case"end":return e.stop()}},e,r,[[1,,29,33]])}))()},handleCreate:function(){if(0===this.dynamicState)return void(this.dialogFormVisible=!0);this.dynamicState=0,this.dynamicDiaTitle="新增论文信息",this.resetPaperForm(),this.dialogFormVisible=!0},handleDelete:function(e,t){var r=this;return u()(l.a.mark(function e(){var n,s,o;return l.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,a.i(b.F)({paperId:t.id});case 3:if(n=e.sent,1!=n.status){e.next=17;break}return r.$message({type:"success",message:"删除论文成功"}),e.next=8,a.i(b.G)();case 8:return s=e.sent,r.count=s.count,e.next=12,a.i(b.D)();case 12:o=e.sent,r.baseCompute=o,r.getPapers(),e.next=18;break;case 17:throw new Error(n.message);case 18:e.next=24;break;case 20:e.prev=20,e.t0=e.catch(0),r.$message({type:"error",message:e.t0.message}),console.log("删除论文失败");case 24:case"end":return e.stop()}},e,r,[[0,20]])}))()},resetPaperForm:function(){var e=this;this.temporarilyDisableWatch=!0;try{this.paperForm={title:"",authors:[],date:"",category:"",fullName:"",shortName:"",ccfLabel:"",first_is_sysu:null,shuai_is_CA:null,CA_is_marked:null,fundings:[],correspondingAuthors:[],awardsInfo:"",citations:"",affiliation_name_list:[]},this.awardsfileList=[],this.paperfileList=[],this.authorOptions=[],this.fundingOptions=[]}finally{this.$nextTick(function(){e.temporarilyDisableWatch=!1})}},createPaper:function(){var e=this;return u()(l.a.mark(function t(){var r,s,o,i,c,u,p;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,new n.a(function(t){e.$refs.paperForm.validate(function(e){t(e)})});case 3:if(!(r=t.sent)){t.next=44;break}if(0!=e.dynamicState){t.next=25;break}return s={title:e.paperForm.title,date:e.paperForm.date,category:e.paperForm.category,fullName:e.paperForm.fullName,shortName:e.paperForm.shortName,ccfLabel:e.paperForm.ccfLabel,first_is_sysu:e.paperForm.first_is_sysu,shuai_is_CA:e.paperForm.shuai_is_CA,caIsMarked:e.paperForm.CA_is_marked,authorsIdList:e.paperForm.authors,caAuthorsIdList:e.paperForm.correspondingAuthors,fundingIdList:e.paperForm.fundings,awardsInfo:e.paperForm.awardsInfo,awardsAttachment:0!=e.awardsfileList.length?e.awardsfileList[0].url:"",paperAttachment:0!=e.paperfileList.length?e.paperfileList[0].url:"",citations:e.paperForm.citations,affiliationNameList:e.paperForm.affiliation_name_list},t.next=9,a.i(b.H)(s);case 9:if(o=t.sent,1!=o.status){t.next=21;break}return e.$message({type:"success",message:"创建论文成功！"}),e.dialogFormVisible=!1,e.resetPaperForm(),t.next=16,a.i(b.D)();case 16:i=t.sent,e.baseCompute=i,e.getPapers(),t.next=23;break;case 21:e.$message({type:"error",message:o.message}),e.dialogFormVisible=!1;case 23:t.next=42;break;case 25:return c={paperId:e.paperForm.paperId,title:e.paperForm.title,date:e.paperForm.date,category:e.paperForm.category,fullName:e.paperForm.fullName,shortName:e.paperForm.shortName,ccfLabel:e.paperForm.ccfLabel,first_is_sysu:e.paperForm.first_is_sysu,shuai_is_CA:e.paperForm.shuai_is_CA,caIsMarked:e.paperForm.CA_is_marked,authorsIdList:e.paperForm.authors,caAuthorsIdList:e.paperForm.correspondingAuthors,fundingIdList:e.paperForm.fundings,awardsInfo:e.paperForm.awardsInfo,awardsAttachment:0!=e.awardsfileList.length?e.awardsfileList[0].url:"",paperAttachment:0!=e.paperfileList.length?e.paperfileList[0].url:"",citations:e.paperForm.citations,affiliationNameList:e.paperForm.affiliation_name_list},t.next=28,a.i(b.I)(c);case 28:if(u=t.sent,1!=u.status){t.next=40;break}return e.$message({type:"success",message:"更新论文成功！"}),e.dialogFormVisible=!1,e.resetPaperForm(),t.next=35,a.i(b.D)();case 35:p=t.sent,e.baseCompute=p,e.getPapers(),t.next=42;break;case 40:e.$message({type:"error",message:u.message}),e.dialogFormVisible=!1;case 42:t.next=45;break;case 44:e.$message({type:"error",message:"表单验证未通过，请检查输入内容！"});case 45:t.next=50;break;case 47:t.prev=47,t.t0=t.catch(0),console.log("创建论文失败！",t.t0);case 50:case"end":return t.stop()}},t,e,[[0,47]])}))()}}}},449:function(e,t,a){t=e.exports=a(206)(!1),t.push([e.i,".allcover{position:absolute;top:0;right:0}.ctt{left:50%;transform:translate(-50%,-50%)}.ctt,.tb{position:absolute;top:50%}.tb{transform:translateY(-50%)}.lr{position:absolute;left:50%;transform:translateX(-50%)}.el-table .el-table__row{height:80px}.demo-table-expand{font-size:0}.demo-table-expand label{width:180px;color:#99a9bf}.demo-table-expand .el-form-item{margin-right:0;margin-bottom:0;width:50%}.table_container{padding:20px}.Pagination{display:-ms-flexbox;display:flex;-ms-flex-pack:start;justify-content:flex-start;margin-top:8px}.avatar-uploader .el-upload{border:1px dashed #d9d9d9;border-radius:6px;cursor:pointer;position:relative;overflow:hidden}.avatar-uploader .el-upload:hover{border-color:#20a0ff}.avatar-uploader-icon{font-size:28px;color:#8c939d;width:120px;height:120px;line-height:120px;text-align:center}.avatar{width:120px;height:120px;display:block}.like{cursor:pointer;font-size:25px;display:inline-block}",""])},544:function(e,t,a){var r=a(449);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(207)("bfb23146",r,!0)},570:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fillcontain"},[a("head-top"),e._v(" "),a("div",[a("div",{staticStyle:{padding:"10px","background-color":"#f5f5f5","border-radius":"8px","margin-bottom":"20px"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-statistic",{attrs:{title:"共发表论文"}},[a("template",{slot:"formatter"},[e._v(e._s(e.baseCompute.totalCount)+" 篇")])],2)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-statistic",{attrs:{title:"CCF-A类论文"}},[a("template",{slot:"formatter"},[e._v(e._s(e.baseCompute.ccfACount)+" 篇")])],2)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-statistic",{attrs:{title:"CCF-B类论文"}},[a("template",{slot:"formatter"},[e._v(e._s(e.baseCompute.ccfBCount)+" 篇")])],2)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-statistic",{attrs:{title:"CCF-C类论文"}},[a("template",{slot:"formatter"},[e._v(e._s(e.baseCompute.ccfCCount)+" 篇")])],2)],1)],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"},attrs:{gutter:20}},[a("el-col",{attrs:{span:6}},[a("el-statistic",{attrs:{title:"第一单位中大论文"}},[a("template",{slot:"formatter"},[e._v(e._s(e.baseCompute.firstSysUCount)+" 篇")])],2)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-statistic",{attrs:{title:"教师第一作者论文"}},[a("template",{slot:"formatter"},[e._v(e._s(e.baseCompute.teacherFirstAuthorCount)+" 篇")])],2)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-statistic",{attrs:{title:"教师通讯作者论文"}},[a("template",{slot:"formatter"},[e._v(e._s(e.baseCompute.teacherCAAuthorCount)+" 篇")])],2)],1),e._v(" "),a("el-col",{attrs:{span:6}},[a("el-statistic",{attrs:{title:"教师通讯作者（标）论文"}},[a("template",{slot:"formatter"},[e._v(e._s(e.baseCompute.teacherCAAuthorMarkedCount)+" 篇")])],2)],1)],1)],1)]),e._v(" "),a("div",[a("el-form",{staticClass:"search-form",attrs:{inline:!0,model:e.searchForm,"label-width":"160px"}},[a("el-form-item",{attrs:{label:"论文标题包含"}},[a("el-input",{staticStyle:{width:"500px"},attrs:{clearable:"",placeholder:"请输入论文标题需要包含的内容"},model:{value:e.searchForm.title,callback:function(t){e.$set(e.searchForm,"title",t)},expression:"searchForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发表时间范围"}},[a("el-date-picker",{staticStyle:{width:"300px"},attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",clearable:""},model:{value:e.searchForm.dateRange,callback:function(t){e.$set(e.searchForm,"dateRange",t)},expression:"searchForm.dateRange"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"发表类别"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择类别"},model:{value:e.searchForm.category,callback:function(t){e.$set(e.searchForm,"category",t)},expression:"searchForm.category"}},[a("el-option",{attrs:{label:"会议",value:"会议"}}),e._v(" "),a("el-option",{attrs:{label:"期刊",value:"期刊"}}),e._v(" "),a("el-option",{attrs:{label:"图书",value:"图书"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"发表会议/期刊全/简称"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{clearable:"",placeholder:"请输入会议/期刊全/简称"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"CCF 分类"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择 CCF 分类"},model:{value:e.searchForm.ccfLabel,callback:function(t){e.$set(e.searchForm,"ccfLabel",t)},expression:"searchForm.ccfLabel"}},[a("el-option",{attrs:{label:"CCF-A",value:"CCF-A"}}),e._v(" "),a("el-option",{attrs:{label:"CCF-B",value:"CCF-B"}}),e._v(" "),a("el-option",{attrs:{label:"CCF-C",value:"CCF-C"}}),e._v(" "),a("el-option",{attrs:{label:"None",value:"None"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"第一单位是否中大"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.searchForm.firstIsSysu,callback:function(t){e.$set(e.searchForm,"firstIsSysu",t)},expression:"searchForm.firstIsSysu"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"教师是否通讯"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.searchForm.shuaiIsCA,callback:function(t){e.$set(e.searchForm,"shuaiIsCA",t)},expression:"searchForm.shuaiIsCA"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"通讯是否标注"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.searchForm.caIsMarked,callback:function(t){e.$set(e.searchForm,"caIsMarked",t)},expression:"searchForm.caIsMarked"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"教师是否一作"}},[a("el-select",{attrs:{clearable:"",placeholder:"请选择"},model:{value:e.searchForm.shuaiIsFirst,callback:function(t){e.$set(e.searchForm,"shuaiIsFirst",t)},expression:"searchForm.shuaiIsFirst"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"论文任一作者单位包含"}},[a("el-input",{staticStyle:{width:"260px"},attrs:{clearable:"",placeholder:"请输入（英）"},model:{value:e.searchForm.affiliationName,callback:function(t){e.$set(e.searchForm,"affiliationName",t)},expression:"searchForm.affiliationName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"论文作者包含"}},[a("el-select",{staticStyle:{width:"350px"},attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"","remote-method":e.fetchSearchFormAuthorOptions,placeholder:"请选择作者",clearable:""},model:{value:e.searchForm.authors,callback:function(t){e.$set(e.searchForm,"authors",t)},expression:"searchForm.authors"}},e._l(e.mergedSearchFormAuthorOptions,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"通讯作者包含"}},[a("el-select",{staticStyle:{width:"350px"},attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"","remote-method":e.fetchSearchFormCAAuthorOptions,placeholder:"请选择通讯作者",clearable:""},model:{value:e.searchForm.correspondingAuthors,callback:function(t){e.$set(e.searchForm,"correspondingAuthors",t)},expression:"searchForm.correspondingAuthors"}},e._l(e.mergedSearchFormCAAuthorOptions,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"基金包含"}},[a("el-select",{staticStyle:{width:"300px"},attrs:{multiple:"",filterable:"",remote:"","reserve-keyword":"","remote-method":e.fetchSearchFormFundingOptions,placeholder:"请选择基金",clearable:""},model:{value:e.searchForm.fundings,callback:function(t){e.$set(e.searchForm,"fundings",t)},expression:"searchForm.fundings"}},e._l(e.mergedSearchFormFundingOptions,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item")],1)],1),e._v(" "),a("div",{staticStyle:{"text-align":"left","margin-left":"70px","margin-bottom":"15px"}},[a("el-button",{staticStyle:{width:"100px"},attrs:{type:"primary",plain:""},on:{click:e.handleSearch}},[a("i",{staticClass:"el-icon-search"}),e._v(" 搜索\n      ")]),e._v(" "),a("el-button",{staticStyle:{width:"100px"},attrs:{type:"info",plain:""},on:{click:e.handleReset}},[a("i",{staticClass:"el-icon-refresh-left"}),e._v(" 重置\n      ")]),e._v(" "),a("el-button",{staticStyle:{width:"300px"},attrs:{type:"success",plain:""},on:{click:e.handleCreate}},[a("i",{staticClass:"el-icon-plus"}),e._v(" 新增论文\n      ")])],1),e._v(" "),a("div",{staticClass:"table_container"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"论文标题"}},[a("span",[e._v(e._s(t.row.title))])]),e._v(" "),a("el-form-item",{attrs:{label:"论文作者"}},e._l(t.row.author_name_list,function(r,n){return a("span",{key:t.row.author_id_list[n]},[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.openDialog(n,t.row.author_id_list[n])}}},[e._v("\n                      "+e._s(r)),a("sup",[e._v(e._s(n+1))]),e._v(" "),t.row.ca_author_id_list.includes(t.row.author_id_list[n])?a("span",[a("sup",[e._v(",通讯")])]):e._e()]),e._v(" "),a("el-dialog",{attrs:{title:"作者信息",visible:e.dialogVisible[n],width:"30%","before-close":e.handleClose},on:{"update:visible":function(t){return e.$set(e.dialogVisible,n,t)}}},[a("el-descriptions",{staticClass:"margin-top",attrs:{column:2,border:""}},[a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-user-solid"}),e._v("\n                          英文名\n                      ")]),e._v("\n                      "+e._s(e.authorData.englishName)+"\n                      ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-user"}),e._v("\n                          中文名\n                      ")]),e._v("\n                      "+e._s(e.authorData.mandarinName)+"\n                      ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-s-home"}),e._v("\n                          单位（英）\n                      ")]),e._v("\n                      "+e._s(e.authorData.affiliationCountry)+"\n                      ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-s-home"}),e._v("\n                          单位（中）\n                      ")]),e._v("\n                      "+e._s(e.authorData.mandarinAffiliation)+"\n                      ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-folder"}),e._v("\n                          邮箱\n                      ")]),e._v("\n                      "+e._s(e.authorData.email)+"\n                      ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-link"}),e._v("\n                          主页\n                      ")]),e._v("\n                      "+e._s(e.authorData.homepage)+"\n                      ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-view"}),e._v("\n                          实验室学生\n                      ")]),e._v("\n                      "+e._s(e.authorData.labStudent)+"\n                      ")],2),e._v(" "),a("el-descriptions-item",[a("template",{slot:"label"},[a("i",{staticClass:"el-icon-info"}),e._v("\n                          作者ID\n                      ")]),e._v("\n                      "+e._s(e.authorData.authorId)+"\n                      ")],2)],1),e._v(" "),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.closeDialog(n)}}},[e._v("确 定")])],1)],1)],1)}),0),e._v(" "),a("el-form-item",{attrs:{label:"发表日期"}},[a("span",[e._v(e._s(t.row.date))])]),e._v(" "),a("el-form-item",{attrs:{label:"作者单位"}},[a("span",{domProps:{innerHTML:e._s(e.formatAffiliationString(t.row.affiliation_name_list))}})]),e._v(" "),a("el-form-item",{attrs:{label:"发表类别"}},[a("span",[e._v(e._s(t.row.category))])]),e._v(" "),a("el-form-item",{attrs:{label:"会议/期刊全称"}},[a("span",[e._v(e._s(t.row.fullname))])]),e._v(" "),a("el-form-item",{attrs:{label:"会议/期刊简称"}},[a("span",[e._v(e._s(t.row.shortname))])]),e._v(" "),a("el-form-item",{attrs:{label:"CCF分类"}},[a("span",[e._v(e._s(t.row.ccflabel))])]),e._v(" "),a("el-form-item",{attrs:{label:"第一单位是否中大"}},[a("span",[e._v(e._s(t.row.first_is_sysu))])]),e._v(" "),a("el-form-item",{attrs:{label:"教师是否通讯"}},[a("span",[e._v(e._s(t.row.shuai_is_CA))])]),e._v(" "),a("el-form-item",{attrs:{label:"通讯是否在文章中标注"}},[a("span",[e._v(e._s(t.row.CA_is_marked))])]),e._v(" "),a("el-form-item",{attrs:{label:"基金情况"}},e._l(t.row.funding_list,function(r,n){return a("span",{key:t.row.funding_list[n].fundingId},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:t.row.funding_list[n].fundingDescription,placement:"top"}},[a("el-button",{attrs:{size:"small"}},[e._v(e._s(r.fundingNumber)),a("sup",[e._v(e._s(n+1))])])],1)],1)}),0),e._v(" "),a("el-form-item",{attrs:{label:"获奖情况"}},[a("span",[e._v(e._s(t.row.awards))])]),e._v(" "),a("el-form-item",{attrs:{label:"论文原文附件"}},[t.row.paper_attachment&&"无"!==t.row.paper_attachment?a("span",[a("a",{staticStyle:{color:"#409eff","text-decoration":"underline","margin-right":"10px","margin-bottom":"10px"},attrs:{href:"http://47.122.131.74:8080/api/file/preview/"+e.getLastAttachment(t.row.paper_attachment),target:"_blank",rel:"noopener noreferrer"}},[e._v("\n                          点击预览附件\n                          ")])]):a("span",[e._v("未上传附件")])]),e._v(" "),a("el-form-item",{attrs:{label:"获奖附件"}},[t.row.awards_attachment&&"无"!==t.row.awards_attachment?a("span",[a("a",{staticStyle:{color:"#409eff","text-decoration":"underline","margin-right":"10px","margin-bottom":"10px"},attrs:{href:"http://47.122.131.74:8080/api/file/preview/"+e.getLastAttachment(t.row.awards_attachment),target:"_blank",rel:"noopener noreferrer"}},[e._v("\n                          点击预览附件\n                          ")])]):a("span",[e._v("未上传附件")])])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{"min-width":"200px",label:"论文标题",prop:"title"}}),e._v(" "),a("el-table-column",{attrs:{"min-width":"200px",label:"论文作者",prop:"author"}}),e._v(" "),a("el-table-column",{attrs:{label:"发表类别",prop:"category"}}),e._v(" "),a("el-table-column",{attrs:{label:"会议/期刊简称",prop:"shortname"}}),e._v(" "),a("el-table-column",{attrs:{label:"CCF分类",prop:"ccflabel"}}),e._v(" "),a("el-table-column",{attrs:{label:"发表日期",prop:"date"}}),e._v(" "),a("el-table-column",{attrs:{label:"操作","min-width":"120"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"small"},on:{click:function(a){return e.handleEdit(t.$index,t.row)}}},[e._v("编辑")]),e._v(" "),a("el-popconfirm",{attrs:{title:"确定要删除这篇论文吗？","confirm-button-text":"确定","cancel-button-text":"取消"},on:{confirm:function(a){return e.handleDelete(t.$index,t.row)}}},[a("el-button",{attrs:{slot:"reference",size:"small",type:"danger"},slot:"reference"},[e._v("删除")])],1),e._v(" "),a("el-button",{attrs:{type:"warning",size:"small"},on:{click:function(a){return e.copyToClipboardFallback(t.$index,t.row)}}},[e._v("引用")])]}}])})],1),e._v(" "),a("div",{staticClass:"Pagination"},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-sizes":[10,20,50],"page-size":10,layout:"total, sizes, prev, pager, next, jumper",total:e.count},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange,"update:currentPage":function(t){e.currentPage=t},"update:current-page":function(t){e.currentPage=t}}})],1),e._v(" "),a("el-dialog",{attrs:{width:"30%",title:e.dynamicDiaTitle,visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"paperForm",attrs:{model:e.paperForm,rules:e.rules}},[1===e.dynamicState?a("el-form-item",{attrs:{label:"论文 ID","label-width":"170px"}},[a("el-input",{attrs:{disabled:!0,placeholder:"自动生成的论文 ID"},model:{value:e.paperForm.paperId,callback:function(t){e.$set(e.paperForm,"paperId",t)},expression:"paperForm.paperId"}})],1):e._e(),e._v(" "),a("el-form-item",{attrs:{required:"",label:"论文标题",prop:"title","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入论文标题","auto-complete":"off"},model:{value:e.paperForm.title,callback:function(t){e.$set(e.paperForm,"title",t)},expression:"paperForm.title"}})],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"论文作者",prop:"authors","label-width":"170px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",remote:"",placeholder:"请务必先搜索作者，再按次序选择；若需新建作者，请前往“论文作者管理”","remote-method":e.fetchAuthorOptions,loading:e.loading},model:{value:e.paperForm.authors,callback:function(t){e.$set(e.paperForm,"authors",t)},expression:"paperForm.authors"}},e._l(e.mergedAuthorOptions,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"作者单位","label-width":"170px"}},[a("el-row",{attrs:{gutter:20}},e._l(e.paperForm.authors,function(t,r){return a("el-col",{key:r,attrs:{span:12}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入第"+(r+1)+"个作者的单位"},model:{value:e.paperForm.affiliation_name_list[r],callback:function(t){e.$set(e.paperForm.affiliation_name_list,r,t)},expression:"paperForm.affiliation_name_list[index]"}})],1)}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"通讯作者",prop:"correspondingAuthors","label-width":"170px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",placeholder:"请选择通讯作者"},model:{value:e.paperForm.correspondingAuthors,callback:function(t){e.$set(e.paperForm,"correspondingAuthors",t)},expression:"paperForm.correspondingAuthors"}},e._l(e.correspondingAuthorOptions,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"发表时间",prop:"date",required:"","label-width":"170px"}},[a("el-col",{staticStyle:{width:"100%"},attrs:{span:11}},[a("el-form-item",{attrs:{prop:"date"}},[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择发表日期","value-format":"yyyy-MM-dd"},model:{value:e.paperForm.date,callback:function(t){e.$set(e.paperForm,"date",t)},expression:"paperForm.date"}})],1)],1)],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"发表类别",prop:"category","label-width":"170px"}},[a("el-select",{attrs:{placeholder:"请选择发表类别"},model:{value:e.paperForm.category,callback:function(t){e.$set(e.paperForm,"category",t)},expression:"paperForm.category"}},[a("el-option",{attrs:{label:"会议",value:"会议"}}),e._v(" "),a("el-option",{attrs:{label:"期刊",value:"期刊"}}),e._v(" "),a("el-option",{attrs:{label:"图书",value:"图书"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"会议/期刊全称",prop:"fullName","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入会议/期刊全称","auto-complete":"off"},model:{value:e.paperForm.fullName,callback:function(t){e.$set(e.paperForm,"fullName",t)},expression:"paperForm.fullName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"会议/期刊简称",prop:"shortName","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入会议/期刊简称","auto-complete":"off"},model:{value:e.paperForm.shortName,callback:function(t){e.$set(e.paperForm,"shortName",t)},expression:"paperForm.shortName"}})],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"CCF分类",prop:"ccfLabel","label-width":"170px"}},[a("el-select",{attrs:{placeholder:"请选择论文所属CCF分类"},model:{value:e.paperForm.ccfLabel,callback:function(t){e.$set(e.paperForm,"ccfLabel",t)},expression:"paperForm.ccfLabel"}},[a("el-option",{attrs:{label:"CCF-A",value:"CCF-A"}}),e._v(" "),a("el-option",{attrs:{label:"CCF-B",value:"CCF-B"}}),e._v(" "),a("el-option",{attrs:{label:"CCF-C",value:"CCF-C"}}),e._v(" "),a("el-option",{attrs:{label:"None",value:"None"}})],1)],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"第一单位是否中大",prop:"first_is_sysu","label-width":"170px"}},[a("el-select",{attrs:{placeholder:"请选择是/否"},model:{value:e.paperForm.first_is_sysu,callback:function(t){e.$set(e.paperForm,"first_is_sysu",t)},expression:"paperForm.first_is_sysu"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"教师是否通讯",prop:"shuai_is_CA","label-width":"170px"}},[a("el-select",{attrs:{placeholder:"请选择是/否"},model:{value:e.paperForm.shuai_is_CA,callback:function(t){e.$set(e.paperForm,"shuai_is_CA",t)},expression:"paperForm.shuai_is_CA"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{required:"",label:"通讯是否在文章中标注",prop:"CA_is_marked","label-width":"170px"}},[a("el-select",{attrs:{placeholder:"请选择是/否"},model:{value:e.paperForm.CA_is_marked,callback:function(t){e.$set(e.paperForm,"CA_is_marked",t)},expression:"paperForm.CA_is_marked"}},[a("el-option",{attrs:{label:"是",value:1}}),e._v(" "),a("el-option",{attrs:{label:"否",value:0}})],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"基金情况","label-width":"170px"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{multiple:"",filterable:"",remote:"",placeholder:"请务必先搜索基金，再按次序选择；若需新建基金，请前往“论文基金管理”","remote-method":e.fetchFundingOptions,loading:e.loading},model:{value:e.paperForm.fundings,callback:function(t){e.$set(e.paperForm,"fundings",t)},expression:"paperForm.fundings"}},e._l(e.mergedFundingOptions,function(e){return a("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"获奖情况","label-width":"170px"}},[a("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入获奖情况","auto-complete":"off"},model:{value:e.paperForm.awardsInfo,callback:function(t){e.$set(e.paperForm,"awardsInfo",t)},expression:"paperForm.awardsInfo"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"获奖附件","label-width":"170px"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://47.122.131.74:8080/api/file/upload/",multiple:!1,limit:1,"on-remove":e.handleAwardsRemove,"before-remove":e.beforeRemove,"on-exceed":e.handleExceed,"on-success":e.handleAwardsUploadSuccess,"file-list":e.awardsfileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"论文原文附件","label-width":"170px"}},[a("el-upload",{staticClass:"upload-demo",attrs:{action:"http://47.122.131.74:8080/api/file/upload/","on-remove":e.handlePapersRemove,"before-remove":e.beforeRemove,"on-exceed":e.handleExceed,"on-success":e.handlePapersUploadSuccess,"file-list":e.paperfileList}},[a("el-button",{attrs:{size:"small",type:"primary"}},[e._v("点击上传")])],1)],1),e._v(" "),a("el-form-item",{attrs:{label:"引用格式（本子用）","label-width":"170px"}},[a("el-input",{attrs:{autosize:{minRows:3,maxRows:4},type:"textarea"},model:{value:e.paperForm.citations,callback:function(t){e.$set(e.paperForm,"citations",t)},expression:"paperForm.citations"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.createPaper}},[e._v("确 定")])],1)],1)],1)],1)},staticRenderFns:[]}}});